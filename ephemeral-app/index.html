<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta info and title -->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ephemeral App - Create Private Note</title>

        <!-- SEO meta tags -->
        <meta
            name="description"
            content="Create end-to-end encrypted, self-destructing notes with Ephemeral. Share sensitive information privately and securely." />
        <meta
            name="keywords"
            content="Ephemeral, private note, secure sharing, one-time notes, encrypted notes, self-destructing notes, protected text" />
        <meta name="author" content="Ahmad Shahzad" />
        <meta name="robots" content="noindex, nofollow" />

        <!-- OG Tags (Update image/URL if specific to app page) -->
        <meta property="og:title" content="Ephemeral App - Create Note" />
        <meta property="og:description" content="Create private notes that self-destruct securely." />
        <!-- {/* Suggest different preview for app */} -->
        <meta property="og:image" content="/images/ephemeral_app_preview.png" />
        <meta property="og:url" content="https://ephemeral.shahzad.dev/app" />

        <!-- Stylesheets -->
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/styles.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
        <!-- Add Favicon links here -->
    </head>
    <body class="dark-theme">
        <!-- Abstract Background Elements -->
        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>

        <!-- Page Header -->
        <header class="app-header">
            <h1>
                <!-- Homepage Link -->
                <a href="/">Ephemeral</a>
            </h1>
            <p>Create a Secure, Private Note</p>
        </header>

        <!-- Main Content Area -->
        <main class="app-main glass-card">
            <!-- Form for Creating a Note -->
            <form action="/create" method="post" id="form" class="note-form">
                <h4 class="form-title">New Secure Note</h4>

                <!-- Textarea for Note Content -->
                <div class="form-group">
                    <label for="message" class="sr-only">Note Content</label>
                    <textarea
                        name="message"
                        id="message"
                        placeholder="Type or paste your secret note here..."
                        required></textarea>
                </div>

                <!-- Section: Note Type Options -->
                <section id="options" class="form-section">
                    <p class="section-label">Note Options</p>
                    <div class="radio-group">
                        <label
                            for="option-permanent"
                            title="The note is stored until manually deleted (requires account feature, typically). Assuming default for now.">
                            <input type="radio" name="type" id="option-permanent" value="permanent" checked />
                            <span>Permanent</span>
                        </label>
                        <label for="option-onetime" title="The note will be destroyed after the first view.">
                            <input type="radio" name="type" id="option-onetime" value="onetime" />
                            <span>One-time View</span>
                        </label>
                        <label for="option-timebased" title="The note will expire after a specified time.">
                            <input type="radio" name="type" id="option-timebased" value="timebased" />
                            <span>Time-based Expiry</span>
                        </label>
                    </div>
                    <input type="datetime-local" name="expiry" id="expiry" class="hidden time-input" />
                </section>

                <!-- Section: Security Options -->
                <section class="form-section">
                    <p class="section-label">Security</p>
                    <div class="checkbox-group">
                        <label for="protected">
                            <input type="checkbox" name="protected" id="protected" />
                            <span>Password Protect Note</span>
                        </label>
                    </div>

                    <div id="passwords" class="hidden password-fields">
                        <div class="form-group">
                            <label for="password" class="sr-only">Password</label>
                            <input
                                type="password"
                                name="password"
                                id="password"
                                placeholder="Enter Password"
                                class="hidden" />
                        </div>
                        <div class="form-group">
                            <label for="confirm-password" class="sr-only">Confirm Password</label>
                            <input
                                type="password"
                                name="confirm-password"
                                id="confirm-password"
                                placeholder="Confirm Password"
                                class="hidden" />
                        </div>
                    </div>
                </section>

                <!-- Submit Button -->
                <button type="submit" class="cta-button primary">
                    Create Secure Link <span class="arrow">â†’</span>
                </button>
            </form>
        </main>

        <!-- Page Footer -->
        <footer class="app-footer">
            <p>
                copyright (c) 2024 -
                <a href="https://shahzad.dev" target="_blank" rel="noopener noreferrer">ahmad shahzad</a>
            </p>
        </footer>

        <!-- Modal: Note Created Notification -->
        <div id="modal-background" class="hidden modal-backdrop"></div>
        <div id="modal" class="hidden modal-content glass-effect">
            <h3>ðŸŽ‰ Note Created Successfully!</h3>
            <p class="modal-instruction">Share this secure link (and password, if set) privately:</p>
            <div class="link-container">
                <input type="text" id="output-link-input" readonly />
                <button id="copy-link" class="cta-button secondary small" title="Copy Link">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        viewBox="0 0 16 16">
                        <path
                            d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1V1.5z" />
                        <path
                            d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zM-1 1.5A1.5 1.5 0 0 1 .5 0h3A1.5 1.5 0 0 1 5 1.5v1A1.5 1.5 0 0 1 3.5 4h-3A1.5 1.5 0 0 1-1 2.5v-1z" />
                    </svg>
                    <span>Copy</span>
                </button>
            </div>
            <!-- {/* Direct link removed, input used instead */} {/* <a href="#" id="output-link"></a> */} -->
            <button id="modal-close" type="reset" class="cta-button secondary small close-btn">Close</button>
        </div>

        <!-- JavaScript Files (Keep these) -->
        <script src="/js/crypto.js"></script>
        <script src="/js/index.js"></script>
        <script src="/js/formHandler.js"></script>
    </body>
</html>
